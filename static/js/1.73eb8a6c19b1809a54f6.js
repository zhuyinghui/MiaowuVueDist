webpackJsonp([1],{"+GHR":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("BO1k"),n=i.n(s),r=i("mvHQ"),o=i.n(r),a=i("gRE1"),l=i.n(a),c={name:"orderForm",components:{PublicgrayTitle:i("mSJ0").a},data:function(){return{Visible:!1,form:{name:"",region:"",city:"",county:"",detailadr:"",regionId:"",cityId:"",countyId:""},labelWidth:"80px",tip:!1}},methods:{emitEvent:function(){this.$emit("my-event")},saveinfo:function(t){var e=this;this.counties.forEach(function(t){t.id===e.form.countyId&&(e.form.county=t.county)});var i=1,s=l.a,r=!0,a=!1,c=void 0;try{for(var u,v=n()(s(this.form));!(r=(u=v.next()).done);r=!0){""===u.value&&(i=0,this.tip=!0)}}catch(t){a=!0,c=t}finally{try{!r&&v.return&&v.return()}finally{if(a)throw c}}i&&(this.Visible=!1,this.$store.commit("saveuser",o()(t)),this.tip=!1)},cancel:function(){this.Visible=!1,this.tip=!1},deluser:function(t){this.$store.state.userlist.splice(t,1)},setdefault:function(t){this.$store.commit("setdefault",t)}},computed:{submitlist:function(){return this.$store.state.submitlist},totalprice:function(){return this.$store.getters.totalprice2},address:function(){return this.$store.state.address},cities:function(){var t=this,e=[];return this.address.forEach(function(i){i.id===t.form.regionId&&(t.form.region=i.region,i.cities.forEach(function(t){e.push(t)}))}),e},counties:function(){var t=this,e=[];return this.cities.forEach(function(i){i.id===t.form.cityId&&(t.form.city=i.city,i.counties.forEach(function(t){e.push(t)}))}),e},userlists:function(){return this.$store.state.userlist},su:function(){return this.$store.state.userlist.filter(function(t){return 1===t.default})},iffooter:function(){return this.userlists.length}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"userinfo"},[i("publicgray-title",[t._v("确认收货地址")]),t._v(" "),i("div",{staticClass:"useritems"},[t._l(t.userlists,function(e,s){return i("ul",{key:s,staticClass:"useritem"},[i("li",{directives:[{name:"show",rawName:"v-show",value:e.default,expression:"item.default"}],staticClass:"default"},[i("i",{staticClass:"el-icon-success"})]),t._v(" "),i("li",[t._v("收货人："+t._s(e.name))]),t._v(" "),i("li",[t._v("收货地址："+t._s(e.region+e.city+e.county+e.detailadr))]),t._v(" "),i("li",[t._v("联系电话："+t._s(e.phone))]),t._v(" "),i("li",[i("div",{on:{click:function(e){t.deluser(s)}}},[t._v("删除")]),i("div",{on:{click:function(e){t.setdefault(s)}}},[t._v("设为默认")])])])}),t._v(" "),i("div",{staticClass:"useritem useradd",on:{click:function(e){t.Visible=!0}}},[i("i",{staticClass:"el-icon-plus"})])],2)],1),t._v(" "),i("div",{staticClass:"goodsinfo"},[i("publicgray-title",[t._v("确认订单信息")]),t._v(" "),i("div",{staticClass:"content"},[t._m(0),t._v(" "),t._l(t.submitlist,function(e,s){return i("ul",{key:s},[i("li",[i("img",{attrs:{src:e.goodsimgs}})]),t._v(" "),i("li",[t._v(t._s(e.name[0]))]),t._v(" "),i("li",[t._v(t._s(e.price[0]))]),t._v(" "),i("li",[t._v(t._s(e.postage[0]))]),t._v(" "),i("li",[t._v(t._s(e.count))])])})],2)],1),t._v(" "),t.iffooter?i("div",{staticClass:"footer"},[i("ul",{staticClass:"ending"},[i("li",[t._v("运送方式：送货上门")]),t._v(" "),i("li",[t._v("发货时间：卖家承诺订单在卖家付款后20小时内发货")]),t._v(" "),t._m(1),t._v(" "),i("li",[t._v("合计（含运费）："+t._s(t.totalprice)+"元")]),t._v(" "),i("li",[t._v("优惠：无")])]),t._v(" "),i("ul",{staticClass:"submit"},[i("li",[t._v("实付款："),i("font",[t._v("￥"+t._s(t.totalprice))])],1),t._v(" "),i("li",[t._v("寄送至："+t._s(t.su[0].region)+t._s(t.su[0].city)+t._s(t.su[0].county)+t._s(t.su[0].detailadr))]),t._v(" "),i("li",[t._v("收货人："+t._s(t.su[0].name)+t._s(t.su[0].phone))]),t._v(" "),i("li",[i("button",{staticClass:"redbutton",on:{click:t.emitEvent}},[t._v("提交订单")])])])]):t._e(),t._v(" "),i("el-dialog",{attrs:{title:"收货地址",visible:t.Visible},on:{"update:visible":function(e){t.Visible=e}}},[i("el-form",{attrs:{model:t.form}},[i("el-form-item",{attrs:{label:"收货人","label-width":t.labelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"收货地址","label-width":t.labelWidth}},[i("el-select",{attrs:{placeholder:"请选择省份"},model:{value:t.form.regionId,callback:function(e){t.$set(t.form,"regionId",e)},expression:"form.regionId"}},t._l(t.address,function(t,e){return i("el-option",{key:e,attrs:{label:t.region,value:t.id}})}),1),t._v(" "),i("el-select",{attrs:{placeholder:"请选择城市"},model:{value:t.form.cityId,callback:function(e){t.$set(t.form,"cityId",e)},expression:"form.cityId"}},t._l(t.cities,function(t,e){return i("el-option",{key:e,attrs:{label:t.city,value:t.id}})}),1),t._v(" "),i("el-select",{attrs:{placeholder:"请选择区县"},model:{value:t.form.countyId,callback:function(e){t.$set(t.form,"countyId",e)},expression:"form.countyId"}},t._l(t.counties,function(t,e){return i("el-option",{key:e,attrs:{label:t.county,value:t.id}})}),1),t._v(" "),i("el-input",{attrs:{placeholder:"详细地址"},model:{value:t.form.detailadr,callback:function(e){t.$set(t.form,"detailadr",e)},expression:"form.detailadr"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"联系电话","label-width":t.labelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),t._v(" "),i("span",{staticClass:"tip1",class:{tip:t.tip}},[t._v("请输入完整信息！")]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveinfo(t.form)}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[t._v("图片")]),t._v(" "),i("li",[t._v("商品名称")]),t._v(" "),i("li",[t._v("单价")]),t._v(" "),i("li",[t._v("邮费")]),t._v(" "),i("li",[t._v("数量")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("给商家留言:"),e("input",{attrs:{type:"text"}})])}]};var v=i("VU/8")(c,u,!1,function(t){i("OP0A")},"data-v-3f1669b2",null).exports,f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",[this._v("您需要支付"+this._s(this.totalprice)+"元")]),this._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:this.emitEvent}},[this._v("确定支付")])],1)},staticRenderFns:[]};var d=i("VU/8")({name:"payNav",methods:{emitEvent:function(){this.$emit("my-event"),this.$store.commit("addmyorder"),this.$store.state.submitlist=[]}},computed:{totalprice:function(){return this.$store.getters.totalprice2}}},f,!1,function(t){i("3gAX")},"data-v-7343e693",null).exports,_={name:"finishpayNav",data:function(){return{seconds:3}},mounted:function(){var t=this,e=setInterval(function(){t.seconds--,0===t.seconds&&(clearInterval(e),t.$router.push({path:"/"}))},1e3)}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[this._m(0),this._v(" "),e("div",[this._v("返回首页(正在跳转中..."+this._s(this.seconds)+"s)")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"el-icon-success"}),this._v("成功支付\n  ")])}]};var h={name:"orderForm",data:function(){return{active:0}},components:{finishpayNav:i("VU/8")(_,m,!1,function(t){i("NZnj")},"data-v-31b3e498",null).exports,PayNav:d,orderNav:v},methods:{next:function(){this.active++}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-steps",{staticClass:"step",attrs:{active:t.active,"finish-status":"success"}},[i("el-step",{attrs:{title:"确认订单"}}),t._v(" "),i("el-step",{attrs:{title:"确认支付"}}),t._v(" "),i("el-step",{attrs:{title:"完成支付"}})],1),t._v(" "),0===t.active?i("orderNav",{on:{"my-event":t.next}}):t._e(),t._v(" "),1===t.active?i("payNav",{on:{"my-event":t.next}}):t._e(),t._v(" "),2===t.active?i("finishpayNav"):t._e()],1)},staticRenderFns:[]};var y=i("VU/8")(h,p,!1,function(t){i("AILE")},"data-v-3df3f194",null);e.default=y.exports},"3gAX":function(t,e){},AILE:function(t,e){},NZnj:function(t,e){},OP0A:function(t,e){},TmV0:function(t,e,i){i("fZOM"),t.exports=i("FeBl").Object.values},fZOM:function(t,e,i){var s=i("kM2E"),n=i("mbce")(!1);s(s.S,"Object",{values:function(t){return n(t)}})},gRE1:function(t,e,i){t.exports={default:i("TmV0"),__esModule:!0}},mbce:function(t,e,i){var s=i("lktj"),n=i("TcQ7"),r=i("NpIQ").f;t.exports=function(t){return function(e){for(var i,o=n(e),a=s(o),l=a.length,c=0,u=[];l>c;)r.call(o,i=a[c++])&&u.push(t?[i,o[i]]:o[i]);return u}}},mvHQ:function(t,e,i){t.exports={default:i("qkKv"),__esModule:!0}},qkKv:function(t,e,i){var s=i("FeBl"),n=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}}});
//# sourceMappingURL=1.73eb8a6c19b1809a54f6.js.map